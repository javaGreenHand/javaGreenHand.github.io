---
title: 重新认识Spring
tags: Spring
categories: 后端开发
---

Spring
<!-- more -->

# 基本概念
## SpringFramework
Spring是一个轻量级的DI和AOP容器框架
* 低侵入，代码污染极低，开发者可以自由选择Spring部分或全部
* DI机制降低了业务对象替换的复杂性。
* AOP的很好支持，方便面向切面编程。
* IOC容器管理对象之间的依赖关系，降低组件之间的耦合性，让开发者可以更专注于应用逻辑
* 提供众多服务，如事务管理等，对主流的框架提供了很好的集成支持，如Hibernate,MyBatis等
    
## DI（重点掌握）
IOC:控制反转,是面向对象编程中的一种设计原则，可以用来降低代码之间的耦合度。Spring负责控制对象的生命周期和对象间的关系。
DI:依赖注入，基于反射实现，可通过构造器或setter方法注入。


## AOP（重点掌握）
面向切面编程（AOP）是解决特定问题的一种编程范式，核心目的是为了分离功能性需求和非功能性需求
* 应用场景：事务控制、权限控制、缓存控制、审计日志、异常处理、性能监控、分布式追踪等
* 原理：基于动态代理实现
* 好处：集中处理某一关注点/横切逻辑；可以很方便地添加/删除关注点；侵入性少，增强代码可读性及可维护性
相关概念：
1. 切面（aspect）
切面是一个关注点的模块化，这个关注点可能是横切多个对象，Spring中常使用@Aspect注解一个类使其称为一个切面。
2. 连接点（join point）
连接点是指在程序执行过程中某个特定的点，比如某方法调用的时候或者处理异常的时候
3. 通知（advice）
指在切面的某个特定的连接点上执行的动作
通知类型：
    * 前置通知
    * 后置通知
    * 返回通知
    * 异常通知
    * 环绕通知
4. 切点（pointcut）
指匹配连接点的断言。通知与一个切入点表达式关联，并在满足这个切入的连接点上运行，例如：当执行某个特定的名称的方法
5. 目标对象（Target Object）
目标对象是被一个或者多个切面所通知的对象
6. AOP代理（AOP Proxy）
AOP代理是指AOP框架创建的对对象，用来实现切面契约（包括通知方法等功能）
7. 织入（weave）
指把切面连接到其他应用出程序类型或者对象上，并创建一个被通知的对象。或者说形成代理对象的方法的过程

## SpringMVC
* 用户发送请求至前端控制器DispatcherServlet
* DispatcherServlet收到请求调用HandlerMapping处理器映射器。
* 处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果没有则生成)一并返回给DispatcherServlet。
* DispatcherServlet通过HandlerAdapter处理器适配器调用处理器
* 执行处理器(Controller，也叫后端控制器)执行完成返回ModelAndView。
* HandlerAdapter将Controller执行结果ModelAndView返回给DispatcherServlet
* DispatcherServlet将ModelAndView传给ViewResolver视图解析器
* ViewResolver解析后返回具体View
* DispatcherServlet对View进行渲染视图（即将模型数据填充至视图中）。
* DispatcherServlet响应用户

## SpringBoot
* 优点：
    * 去除了大量的xml配置文件
    * 简化复杂的依赖管理
    * 配合各种starter使用，基本上可以做到自动化配置
    * 快速启动容器
    * 配合Maven或Gradle等构件工具打成Jar包后，Java -jar 进行部署运行还是蛮简单的
* 缺点：
     * 从原来的xml配置方式转换到JAVA配置方式变化有点大，不太适应
     * Spring Boot比较适合做微服务，不适合做比较大型的项目。
     
## Hibernate

## MyBatis

# 官方文档
## Spring Framework
[官方文档](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/)
## Spring Data Jpa
[官方文档](https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/)

## Spring Boot
* [官方文档](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/)
* [文章](https://blog.csdn.net/fly_zhyu/article/details/76407830)
## Spring Cloud
[官方文档](http://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html)
## Spring Cloud Data Flow
[官方文档](https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started)